<!-- templates/registration/payment_failed_init.html -->
{% extends 'base.html' %}

{% block title %}Payment Gateway Error - JTC 2025{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-8">
        <div class="inline-block p-4 bg-red-100 rounded-full mb-4">
            <i class="fas fa-exclamation-triangle text-red-500 text-5xl"></i>
        </div>
        <h1 class="text-3xl font-bold text-gray-800 mb-2">Payment Gateway Error</h1>
        <p class="text-gray-600">Unable to connect to the payment gateway</p>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">What Went Wrong?</h2>
        <p class="text-gray-600 mb-6">
            We couldn't establish a connection with the payment gateway. This is usually a temporary issue 
            that resolves quickly.
        </p>

        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6">
            <h3 class="font-semibold text-blue-800 mb-2 flex items-center">
                <i class="fas fa-shield-alt mr-2"></i>
                Your Information is Safe
            </h3>
            <p class="text-blue-800 text-sm">
                Don't worry! Your registration details are securely saved. No payment was charged.
            </p>
        </div>

        <h3 class="text-lg font-semibold text-gray-800 mb-3">Common Causes:</h3>
        <ul class="list-disc list-inside text-gray-600 space-y-2 mb-6">
            <li>Temporary network connectivity issues</li>
            <li>Payment gateway maintenance</li>
            <li>Browser compatibility issues</li>
            <li>Firewall or security software blocking the connection</li>
        </ul>

        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg mb-6">
            <h3 class="font-semibold text-yellow-800 mb-2 flex items-center">
                <i class="fas fa-tools mr-2"></i>
                Quick Fixes to Try
            </h3>
            <ol class="list-decimal list-inside text-yellow-800 text-sm space-y-1">
                <li>Wait 2-3 minutes and retry</li>
                <li>Refresh your browser or clear cache</li>
                <li>Try a different browser (Chrome, Firefox, Safari)</li>
                <li>Disable VPN if you're using one</li>
                <li>Check your internet connection</li>
            </ol>
        </div>

        <div class="bg-gray-50 rounded-lg p-4 mb-6">
            <p class="text-xs text-gray-600 mb-2">Your Saved Registration:</p>
            <div class="grid grid-cols-2 gap-3">
                <div>
                    <p class="text-xs text-gray-500">Name</p>
                    <p class="font-semibold text-gray-800">{{ student.name }}</p>
                </div>
                <div>
                    <p class="text-xs text-gray-500">Registration ID</p>
                    <p class="font-semibold text-green-600">{{ student.registration_id }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="{% url 'retry_payment' payment_id=payment.id %}" 
           class="bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg text-center transition-all transform hover:scale-105 shadow-lg">
            <i class="fas fa-redo mr-2"></i>
            Try Again
        </a>
        
        <a href="{% url 'home' %}" 
           class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-4 px-8 rounded-xl text-lg text-center transition-all">
            <i class="fas fa-home mr-2"></i>
            Go Home
        </a>
    </div>

    <div class="mt-8 text-center">
        <p class="text-gray-600 mb-2">Still having issues?</p>
        <div class="flex justify-center space-x-4">
            <a href="mailto:jtc@sjis.edu.bd" class="text-blue-600 hover:text-blue-800">
                <i class="fas fa-envelope mr-1"></i> Contact Support
            </a>
            <a href="tel:01704010877" class="text-blue-600 hover:text-blue-800">
                <i class="fas fa-phone mr-1"></i> 01704010877
            </a>
        </div>
    </div>
</div>
{% endblock %}